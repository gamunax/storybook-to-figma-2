"use strict";(self.webpackChunkatlas_ui_components=self.webpackChunkatlas_ui_components||[]).push([[8492],{"./dist/atlas-filedrop/fesm2022/atlas-filedrop.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y4:()=>FiledropModule,fP:()=>FiledropComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),atlas_cdk__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./dist/atlas-cdk/fesm2022/atlas-cdk.mjs"),atlas_icon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./dist/atlas-icon/fesm2022/atlas-icon.mjs"),_angular_forms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),atlas_button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./dist/atlas-button/fesm2022/atlas-button.mjs"),atlas_progress__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./dist/atlas-progress/fesm2022/atlas-progress.mjs");const _c0=["fileDropRef"],_c1=(a0,a1)=>["atlas-filedrop",a0,a1],_c2=a0=>["atlas-filedrop-content",a0],_c3=a0=>["atlas-filedrop-content atlas-filedrop-content-uploaded box-shadow-elevation-raised",a0],_c4=()=>({position:"relative","z-index":3}),_c5=()=>["atlas-filedrop-progress-name","typographyStyles-body-small"];function FiledropComponent_ng_container_3_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](0)}function FiledropComponent_ng_template_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2,"atlas-button",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](7,_c2,ctx_r1.typographyContent)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ",ctx_r1.content," "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleMap"](ctx_r1.style),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("color",ctx_r1.action?ctx_r1.action:ctx_r1.color)("disabled",ctx_r1.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.captionButton)}}function FiledropComponent_ng_template_6_ng_container_0_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](0)}function FiledropComponent_ng_template_6_ng_template_1_div_0_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1,"atlas-icon",13),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2,"span",14),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4,"shortenMiddle"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5,"atlas-icon-button",15),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("onClick",function FiledropComponent_ng_template_6_ng_template_1_div_0_Template_atlas_icon_button_onClick_5_listener(){const i_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3).index,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r1.deleteFile(i_r4))}),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()}if(2&rf){const item_r5=ctx.$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](11,_c3,ctx_r1.typographyContent)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("icon","icon-check-24")("color",ctx_r1.colorIcon)("size",ctx_r1.size),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](4,8,item_r5.file.name,ctx_r1.MAX_FILENAME_CHARS)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("icon","icon-remove-24")("color",ctx_r1.colorRmv)("size",ctx_r1.size)}}function FiledropComponent_ng_template_6_ng_template_1_ng_container_1_Template(rf,ctx){if(1&rf){const _r6=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3,"atlas-button",16),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("onClick",function FiledropComponent_ng_template_6_ng_template_1_ng_container_1_Template_atlas_button_onClick_3_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r1.openFileSelector())}),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](7,_c2,ctx_r1.typographyContent)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ",ctx_r1.content," "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleMap"](ctx_r1.style),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("color",ctx_r1.action?ctx_r1.action:ctx_r1.color)("ngStyle",_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](9,_c4)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.captionButton)}}function FiledropComponent_ng_template_6_ng_template_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0,FiledropComponent_ng_template_6_ng_template_1_div_0_Template,6,13,"div",11)(1,FiledropComponent_ng_template_6_ng_template_1_ng_container_1_Template,5,10,"ng-container",12),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf",ctx_r1.files),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf",ctx_r1.multipleFiles)}}function FiledropComponent_ng_template_6_ng_template_3_ng_container_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1,"div",19)(2,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4,"shortenMiddle"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5,"atlas-progress",20),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]()),2&rf){const item_r8=ctx.$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](7,_c5)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ",_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](4,4,item_r8.file.name,ctx_r1.MAX_FILENAME_CHARS)," "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("labeled",!0)("value",item_r8.progress)}}function FiledropComponent_ng_template_6_ng_template_3_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0,FiledropComponent_ng_template_6_ng_template_3_ng_container_0_Template,6,8,"ng-container",17),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1,"atlas-button",18),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("onClick",function FiledropComponent_ng_template_6_ng_template_3_Template_atlas_button_onClick_1_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r1.onCanceledUpload())}),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf",ctx_r1.files),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleMap"](ctx_r1.style),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("color",ctx_r1.action?ctx_r1.action:ctx_r1.color),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.cancelButton)}}function FiledropComponent_ng_template_6_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0,FiledropComponent_ng_template_6_ng_container_0_Template,1,0,"ng-container",7)(1,FiledropComponent_ng_template_6_ng_template_1_Template,2,2,"ng-template",null,3,_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"])(3,FiledropComponent_ng_template_6_ng_template_3_Template,3,5,"ng-template",null,4,_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]),2&rf){const finish_r9=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2),showProgress_r10=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](4),ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf",ctx_r1.finishUpload)("ngIfThen",finish_r9)("ngIfElse",showProgress_r10)}}const config={atlas:{filedrop:{value:{alignItems:"center",background:"var(--semanticColor-background-neutral)",border:"2px dashed var(--semanticColor-border-neutral-strong)",display:"flex",flexFlow:"column nowrap",justifyContent:"center",margin:"0",minHeight:"248px",padding:"24px 0",position:"relative",transition:"200ms all ease-in-out"},"file-title":{value:{margin:"0 14px",flex:"1",whiteSpace:"nowrap"}},"-standard-width":{value:{maxWidth:"580px",minWidth:"380px"}},"-full-width":{value:{maxWidth:"100%",minWidth:"0"}},"-success":{value:{background:"var(--semanticColor-background-neutral) !important",border:"2px dashed var(--semanticColor-background-success-strong-rest) !important"}},"-failure":{value:{background:"var(--semanticColor-background-neutral) !important",border:"2px dashed var(--semanticColor-background-danger-strong-rest) !important"}},input:{value:{height:"100%",left:"0",opacity:"0",position:"absolute",top:"0",width:"100%",zIndex:"2"}},"input:hover":{value:{cursor:"pointer"}},content:{uploaded:{value:{display:"flex",alignItems:"center",zIndex:"2",width:"calc(100% - 24px)",flexWrap:"nowrap",padding:"0 24px"}},value:{color:"var(--semanticColor-text-default)",padding:"16px 0"}},progress:{value:{minWidth:"164px"},name:{value:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"200px"}}},error:{message:{value:{float:"left",color:"var(--semanticColor-background-danger-strong-rest) !important"}}},cancel:{value:{zIndex:"100"}},button:{value:{position:"relative",zIndex:"3"}}},fileover:{value:{background:"var(--semanticColor-background-brand-rest) !important",border:"2px dashed var(--semanticColor-border-brand-strong)",color:"var(--semanticColor-text-default) !important",transition:"200ms all ease-in-out !important"}},"fileover > atlas-button":{value:{display:"none"}}}};class DragAndDropDirective{disabled=!1;fileOver;fileDropped=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter;onDragOver(evt){evt.preventDefault(),evt.stopPropagation(),this.disabled||(this.fileOver=!0)}onDragLeave(evt){evt.preventDefault(),evt.stopPropagation(),this.fileOver=!1}ondrop(evt){evt.preventDefault(),evt.stopPropagation(),this.fileOver=!1;let files=evt.dataTransfer.files;files.length>0&&this.fileDropped.emit(files)}static ɵfac=function DragAndDropDirective_Factory(__ngFactoryType__){return new(__ngFactoryType__||DragAndDropDirective)};static ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({type:DragAndDropDirective,selectors:[["","haloDragAndDrop",""]],hostVars:2,hostBindings:function DragAndDropDirective_HostBindings(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("dragover",function DragAndDropDirective_dragover_HostBindingHandler($event){return ctx.onDragOver($event)})("dragleave",function DragAndDropDirective_dragleave_HostBindingHandler($event){return ctx.onDragLeave($event)})("drop",function DragAndDropDirective_drop_HostBindingHandler($event){return ctx.ondrop($event)}),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("atlas-fileover",ctx.fileOver)},inputs:{disabled:"disabled"},outputs:{fileDropped:"fileDropped"}})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DragAndDropDirective,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,args:[{selector:"[haloDragAndDrop]"}]}],null,{disabled:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],fileOver:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,args:["class.atlas-fileover"]}],fileDropped:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],onDragOver:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.HostListener,args:["dragover",["$event"]]}],onDragLeave:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.HostListener,args:["dragleave",["$event"]]}],ondrop:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.HostListener,args:["drop",["$event"]]}]});class ShortenMiddlePipe{transform(value,maxLength=30){if(!value||value.length<=maxLength)return value;const extMatch=value.match(/\.[^\.]+$/),ext=extMatch?extMatch[0]:"",base=value.slice(0,value.length-ext.length),keep=maxLength-ext.length-3;return`${base.slice(0,Math.ceil(keep/2))}...${base.slice(-Math.floor(keep/2))}${ext}`}static ɵfac=function ShortenMiddlePipe_Factory(__ngFactoryType__){return new(__ngFactoryType__||ShortenMiddlePipe)};static ɵpipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({name:"shortenMiddle",type:ShortenMiddlePipe,pure:!0})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ShortenMiddlePipe,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Pipe,args:[{name:"shortenMiddle"}]}],null,null);class FiledropComponent{_cd;_themingService;zone;ngControl;typographyContent="typographyStyles-body-medium";multipleFiles=!1;fullWidth=!1;action;color=atlas_cdk__WEBPACK_IMPORTED_MODULE_1__.Jy.brand;style=atlas_cdk__WEBPACK_IMPORTED_MODULE_1__.P_.strong;content="Drop files here to upload...";captionButton="Browse files";cancelButton="Cancel";accept="";disabled=!1;set updateProgressInfo(value){this._progressFileInfo=value,this.updateProgressFile(this._progressFileInfo)}_progressFileInfo=[];canceledUpload=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter;selectedFiles=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter;uploadCompleted=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter;uploadFail=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter;colorRmv=atlas_cdk__WEBPACK_IMPORTED_MODULE_1__.Jy.danger;colorIcon=atlas_cdk__WEBPACK_IMPORTED_MODULE_1__.Jy.brand;size=atlas_icon__WEBPACK_IMPORTED_MODULE_2__.y3.small;hasError={status:!1,message:""};onCheckChange=()=>{};onTouch=()=>{};files=[];finishUpload=!1;tabindex=0;get tabIndex(){return this.disabled?"-1":`${this.tabindex}`}ariaLabel="";fileInput;MAX_FILENAME_CHARS=30;constructor(_cd,_themingService,zone,ngControl){this._cd=_cd,this._themingService=_themingService,this.zone=zone,this.ngControl=ngControl,this._themingService.applyConfig(config),this.ngControl&&(this.ngControl.valueAccessor=this)}ngAfterViewInit(){this.updateMaxLength(),this._cd.detectChanges()}onResize(){this.updateMaxLength()}updateMaxLength(){if(!this.fileInput)return;const WIDTH_OFFSET_FILEDROP=this.fileInput.nativeElement.offsetWidth;console.log("Filedrop width: ",this.fileInput.nativeElement.offsetWidth),console.log("Filedrop width offset: ",this.MAX_FILENAME_CHARS),this.MAX_FILENAME_CHARS=Math.min(Math.floor(WIDTH_OFFSET_FILEDROP/8),47),console.log("Max filename chars: ",this.MAX_FILENAME_CHARS)}writeValue(uploaded){this.finishUpload=uploaded}onFileDropped(event){if(!this.multipleFiles&&this.files.length>=1)throw this.uploadFail.emit(event),this.hasError={status:!0,message:"Can't upload more than one file"},new Error("Can't upload more than one file");if(!this.multipleFiles&&event.length>1)throw this.uploadFail.emit(event),this.hasError={status:!0,message:"Can't upload more than one file"},new Error("Can't upload more than one file");this.validateFileTypes(event)&&(this.hasError.status=!1,this.hasError.message="",this.prepareFilesList(event),this.fileInput.nativeElement.value="")}fileBrowseHandler(event){if(!this.multipleFiles&&this.files.length>=1)throw this.uploadFail.emit(event),this.hasError={status:!0,message:"Can't upload more than one file"},new Error("Can't upload more than one file");if(!this.multipleFiles&&event.files.length>1)throw this.uploadFail.emit(event),this.hasError={status:!0,message:"Can't upload more than one file"},new Error("Can't upload more than one file");this.hasError.status=!1,this.hasError.message="",this.prepareFilesList(event.files),this.fileInput.nativeElement.value=""}deleteFile(indexToRemove){this.files=this.files.filter((item,index)=>index!==indexToRemove),this.files=this.files.map((item,index)=>({...item,index})),this.multipleFiles?0===this.files.length&&(this.finishUpload=!1):this.finishUpload=!1,this.selectedFiles.emit(this.files)}registerOnChange(fn){this.onCheckChange=fn}registerOnTouched(fn){this.onTouch=fn}openFileSelector(){this.zone.run(()=>{this.fileInput.nativeElement.click()})}onCanceledUpload(){this.files=[],this.finishUpload=!1,this.canceledUpload.emit(!0),this.hasError={status:!0,message:"Upload canceled by user."},this._cd.detectChanges()}prepareFilesList(files){let index;this.multipleFiles?index=this.files.length:(this.files=[],index=0);for(const item of files)this.files.push({file:item,index,progress:0}),index++;this.updateProgressFile(this.files),this.selectedFiles.emit(this.files)}validateFileTypes(fileList){if(!this.accept)return!0;const acceptTypes=this.accept.split(",").map(type=>type.trim());for(const file of Array.from(fileList)){if(!acceptTypes.some(type=>type.startsWith(".")?file.name.toLowerCase().endsWith(type.toLowerCase()):file.type===type||file.type.startsWith(type.split("/")[0]+"/")))return this.hasError={status:!0,message:`File type not allowed: ${file.name}`},this.uploadFail.emit(file),!1}return!0}updateProgressFile(files){try{if(0===files.length)return void(this.finishUpload=!1);let countCompleted=0;files.forEach(element=>{element.progress>=100?countCompleted++:(element.progress+=10,this.files=[...files])}),this.multipleFiles?countCompleted<files.length?this.updateProgressFile(this.files):(this.uploadCompleted.emit(!0),this.finishUpload=!0):1===files.length&&files[0].progress>=100?(this.uploadCompleted.emit(!0),this.finishUpload=!0):files.length>0&&this.updateProgressFile(this.files)}catch(error){this.uploadFail.emit(error),this.hasError={status:!0,message:error.message||"An error occurred during file upload."}}}static ɵfac=function FiledropComponent_Factory(__ngFactoryType__){return new(__ngFactoryType__||FiledropComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](atlas_cdk__WEBPACK_IMPORTED_MODULE_1__.KS),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_3__.vO,10))};static ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({type:FiledropComponent,selectors:[["atlas-filedrop"]],viewQuery:function FiledropComponent_Query(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]())&&(ctx.fileInput=_t.first)}},hostVars:3,hostBindings:function FiledropComponent_HostBindings(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("resize",function FiledropComponent_resize_HostBindingHandler(){return ctx.onResize()},!1,_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresolveWindow"]),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("role",ctx.filedrop)("disabled",ctx.disabled)("tabindex",ctx.tabIndex)},inputs:{typographyContent:"typographyContent",multipleFiles:"multipleFiles",fullWidth:"fullWidth",action:"action",color:"color",style:"style",content:"content",captionButton:"captionButton",cancelButton:"cancelButton",accept:"accept",disabled:"disabled",updateProgressInfo:"updateProgressInfo",tabindex:"tabindex",ariaLabel:[0,"aria-label","ariaLabel"]},outputs:{canceledUpload:"canceledUpload",selectedFiles:"selectedFiles",uploadCompleted:"uploadCompleted",uploadFail:"uploadFail"},decls:10,vars:17,consts:[["fileDropRef",""],["emptyFiles",""],["withFiles",""],["finish",""],["showProgress",""],["haloDragAndDrop","",3,"fileDropped","ngClass","disabled"],["type","file","id","fileDropRef","multiple","",1,"atlas-filedrop-input",3,"change","accept","disabled"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"atlas-filedrop-error-message","typographyStyles-body-small"],[3,"ngClass"],[3,"color","disabled"],[3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"icon","color","size"],[1,"atlas-filedrop-file-title"],[3,"onClick","icon","color","size"],[3,"onClick","color","ngStyle"],[4,"ngFor","ngForOf"],[1,"atlas-filedrop-cancel",3,"onClick","color"],[1,"atlas-filedrop-progress"],[3,"labeled","value"]],template:function FiledropComponent_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("fileDropped",function FiledropComponent_Template_div_fileDropped_0_listener($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx.onFileDropped($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1,"input",6,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change",function FiledropComponent_Template_input_change_1_listener($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx.fileBrowseHandler($event.target))}),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3,FiledropComponent_ng_container_3_Template,1,0,"ng-container",7)(4,FiledropComponent_ng_template_4_Template,4,9,"ng-template",null,1,_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"])(6,FiledropComponent_ng_template_6_Template,5,3,"ng-template",null,2,_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8,"span",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()}if(2&rf){const emptyFiles_r11=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](5),withFiles_r12=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](7);_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("atlas-filedrop--standard-width",!ctx.fullWidth)("atlas-filedrop--full-width",ctx.fullWidth),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](14,_c1,ctx.finishUpload&&!ctx.hasError.status?"atlas-filedrop--success":"",ctx.hasError.status?"atlas-filedrop--failure":""))("disabled",ctx.finishUpload||ctx.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("accept",ctx.accept)("disabled",ctx.finishUpload&&!ctx.multipleFiles||ctx.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("tabindex",ctx.tabIndex)("aria-label",ctx.ariaLabel),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf",!ctx.files.length)("ngIfThen",emptyFiles_r11)("ngIfElse",withFiles_r12),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.hasError.message)}},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.NgClass,_angular_common__WEBPACK_IMPORTED_MODULE_4__.NgForOf,_angular_common__WEBPACK_IMPORTED_MODULE_4__.NgIf,_angular_common__WEBPACK_IMPORTED_MODULE_4__.NgStyle,atlas_button__WEBPACK_IMPORTED_MODULE_5__.Qp,atlas_button__WEBPACK_IMPORTED_MODULE_5__.xB,atlas_icon__WEBPACK_IMPORTED_MODULE_2__.Rl,atlas_progress__WEBPACK_IMPORTED_MODULE_6__.Xf,DragAndDropDirective,ShortenMiddlePipe],encapsulation:2,changeDetection:0})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FiledropComponent,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,args:[{selector:"atlas-filedrop",template:'\n    <div\n      [ngClass]="[\n        \'atlas-filedrop\',\n        finishUpload && !hasError.status ? \'atlas-filedrop--success\' : \'\',\n        hasError.status ? \'atlas-filedrop--failure\' : \'\'\n      ]"\n      [class.atlas-filedrop--standard-width]="!fullWidth"\n      [class.atlas-filedrop--full-width]="fullWidth"\n      haloDragAndDrop\n      [disabled]="finishUpload || disabled"\n      (fileDropped)="onFileDropped($event)"\n    >\n      <input\n        class="atlas-filedrop-input"  \n        type="file"\n        #fileDropRef\n        id="fileDropRef"\n        multiple\n        [accept]="accept"\n        (change)="fileBrowseHandler($event.target)"\n        [disabled]="(finishUpload && !multipleFiles) || disabled"\n        [attr.tabindex]="tabIndex"\n        [attr.aria-label]="ariaLabel"\n      />\n      <ng-container *ngIf="!files.length; then emptyFiles; else withFiles"></ng-container>\n      <ng-template #emptyFiles>\n        <div [ngClass]="[\'atlas-filedrop-content\', typographyContent]">\n          {{ content }}\n        </div>\n        <atlas-button [color]="action ? action : color" [style]="style" [disabled]="disabled">{{ captionButton }}</atlas-button>\n      </ng-template>\n      <ng-template #withFiles>\n        <ng-container *ngIf="finishUpload; then finish; else showProgress"></ng-container>\n        <ng-template #finish>\n          <div\n            *ngFor="let item of files; let i = index"\n            [ngClass]="[\n              \'atlas-filedrop-content atlas-filedrop-content-uploaded box-shadow-elevation-raised\',\n              typographyContent\n            ]"\n          >\n            <atlas-icon [icon]="\'icon-check-24\'" [color]="colorIcon" [size]="size"></atlas-icon>\n            <span class="atlas-filedrop-file-title">{{ item.file.name | shortenMiddle:MAX_FILENAME_CHARS }}</span>\n            <atlas-icon-button\n              [icon]="\'icon-remove-24\'"\n              [color]="colorRmv"\n              [size]="size"\n              (onClick)="deleteFile(i)"\n            ></atlas-icon-button>\n          </div>\n          <ng-container *ngIf="multipleFiles">\n            <div [ngClass]="[\'atlas-filedrop-content\', typographyContent]">\n              {{ content }}\n            </div>\n            <atlas-button\n              [color]="action ? action : color"\n              [style]="style"\n              (onClick)="openFileSelector()"\n              [ngStyle]="{ position: \'relative\', \'z-index\': 3 }"\n              >{{ captionButton }}</atlas-button\n            >\n          </ng-container>\n        </ng-template>\n        <ng-template #showProgress>\n          <ng-container *ngFor="let item of files; let i = index">\n            <div class="atlas-filedrop-progress">\n              <div [ngClass]="[\'atlas-filedrop-progress-name\', \'typographyStyles-body-small\']">\n                {{ item.file.name | shortenMiddle:MAX_FILENAME_CHARS }}\n              </div>\n              <atlas-progress [labeled]="true" [value]="item.progress"></atlas-progress>\n            </div>\n          </ng-container>\n          <atlas-button\n            class="atlas-filedrop-cancel"\n            [color]="action ? action : color"\n            [style]="style"\n            (onClick)="onCanceledUpload()"\n            >{{ cancelButton }}</atlas-button\n          >\n        </ng-template>\n      </ng-template>\n    </div>\n    <span class="atlas-filedrop-error-message typographyStyles-body-small">{{hasError.message}}</span>\n  ',host:{"[attr.role]":"filedrop","[attr.disabled]":"disabled"},changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,encapsulation:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewEncapsulation.None}]}],()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef},{type:atlas_cdk__WEBPACK_IMPORTED_MODULE_1__.KS},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone},{type:_angular_forms__WEBPACK_IMPORTED_MODULE_3__.vO,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Self}]}],{typographyContent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],multipleFiles:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],fullWidth:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],action:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],color:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],style:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],content:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],captionButton:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],cancelButton:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],accept:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],disabled:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],updateProgressInfo:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],canceledUpload:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],selectedFiles:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],uploadCompleted:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],uploadFail:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],tabindex:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["tabindex"]}],tabIndex:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,args:["attr.tabindex"]}],ariaLabel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["aria-label"]}],fileInput:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,args:["fileDropRef",{static:!1}]}],onResize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.HostListener,args:["window:resize"]}]});class FiledropModule{static ɵfac=function FiledropModule_Factory(__ngFactoryType__){return new(__ngFactoryType__||FiledropModule)};static ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({type:FiledropModule,declarations:[FiledropComponent,DragAndDropDirective,ShortenMiddlePipe],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.CommonModule,atlas_button__WEBPACK_IMPORTED_MODULE_5__.tm,atlas_icon__WEBPACK_IMPORTED_MODULE_2__.op,atlas_progress__WEBPACK_IMPORTED_MODULE_6__.Em],exports:[FiledropComponent]});static ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({imports:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.CommonModule,atlas_button__WEBPACK_IMPORTED_MODULE_5__.tm,atlas_icon__WEBPACK_IMPORTED_MODULE_2__.op,atlas_progress__WEBPACK_IMPORTED_MODULE_6__.Em]})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FiledropModule,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,args:[{declarations:[FiledropComponent,DragAndDropDirective,ShortenMiddlePipe],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.CommonModule,atlas_button__WEBPACK_IMPORTED_MODULE_5__.tm,atlas_icon__WEBPACK_IMPORTED_MODULE_2__.op,atlas_progress__WEBPACK_IMPORTED_MODULE_6__.Em],exports:[FiledropComponent]}]}],null,null)},"./dist/atlas-progress/fesm2022/atlas-progress.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Em:()=>ProgressModule,Xf:()=>ProgressComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),atlas_cdk__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./dist/atlas-cdk/fesm2022/atlas-cdk.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");const _c0=a0=>["progress-bar",a0],_c1=a0=>["progress-bar-inner",a0],_c2=(a0,a1)=>({width:a0,margin:a1}),_c3=(a0,a1)=>["progress-bar-inner",a0,a1],_c4=a0=>["circular-bar-progress","circular-bar-progress-size-small",a0],_c5=a0=>({background:a0}),_c6=()=>["circular-bar-percent-container","typographyStyles-label-large"],_c7=a0=>[a0];function ProgressComponent_div_0_div_2_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0,"div",5),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2,_c1,"progress-bar-inner-"+(ctx_r0.variant?ctx_r0.variant:ctx_r0.color)))("ngStyle",_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](4,_c2,ctx_r0.value+"%","simple"!=ctx_r0.barStyle?"0 auto":""))}}function ProgressComponent_div_0_div_3_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0,"div",2),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](1,_c3,"progress-bar-inner-"+(ctx_r0.variant?ctx_r0.variant:ctx_r0.color),"indeterminate-animation-"+(ctx_r0.variant?ctx_r0.variant:ctx_r0.color)))}}function ProgressComponent_div_0_label_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0,"label",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass","progress-bar-container-label margin-y-4 typographyStyles-body-large"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ",ctx_r0.value,"% ")}}function ProgressComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0,"div")(1,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2,ProgressComponent_div_0_div_2_Template,1,7,"div",3)(3,ProgressComponent_div_0_div_3_Template,1,4,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4,ProgressComponent_div_0_label_4_Template,2,2,"label",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"]("progress-bar-container"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](6,_c0,"indeterminate"===ctx_r0.barStyle?"indeterminate":"")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf","indeterminate"!==ctx_r0.barStyle),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf","indeterminate"===ctx_r0.barStyle),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf",ctx_r0.labeled)}}function ProgressComponent_div_1_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](2,_c6)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ",ctx_r0.value,"% ")}}function ProgressComponent_div_1_div_3_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0,"div",2),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](1,_c7,"spinner-animation-"+(ctx_r0.variant?ctx_r0.variant:ctx_r0.color)))}}function ProgressComponent_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0,"div")(1,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2,ProgressComponent_div_1_div_2_Template,2,3,"div",4)(3,ProgressComponent_div_1_div_3_Template,1,3,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4,_c4,"indeterminate"===ctx_r0.barStyle?"indeterminate":""))("ngStyle",_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](6,_c5,ctx_r0.calculateBackground(ctx_r0.variant?ctx_r0.variant:ctx_r0.color,ctx_r0.value))),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf","indeterminate"!=ctx_r0.barStyle&&ctx_r0.labeled),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf","indeterminate"===ctx_r0.barStyle)}}const config={"progress-bar":{container:{value:{display:"grid"},size:{small:{value:{width:"25%",fontSize:"12px"}},medium:{value:{width:"50%",fontSize:"14px"}},large:{value:{width:"75%",fontSize:"16px"}},huge:{value:{width:"100%",fontSize:"18px"}}},label:{value:{color:"var(--semanticColor-background-neutral-strong-rest)",marginLeft:"auto",marginRight:"auto"}}},inner:{value:{maxWidth:"100%",transition:"width 2s",position:"relative",zIndex:"1",height:"8px"},brand:{value:{background:"var(--semanticColor-background-brand-strong-rest)"}},neutral:{value:{background:"var(--semanticColor-background-neutral-strong-rest)"}},success:{value:{background:"var(--semanticColor-background-success-strong-rest)"}},danger:{value:{background:"var(--semanticColor-background-danger-strong-rest)"}}},value:{position:"relative",width:"100%",height:"8px"},states:{after:{type:"state",description:"state to fill the rest of the progress bar",value:{background:"var(--semanticColor-background-neutral-rest)",opacity:"60%",width:"100%",height:"8px",content:"close-quote",position:"absolute",top:"0"}}}},"circular-bar":{container:{value:{display:"grid",placeItems:"center"}},progress:{states:{before:{type:"state",description:"before state for circular progress bar",value:{content:"close-quote",position:"absolute",height:"80%",width:"80%",backgroundColor:"var(--semanticColor-text-inverse)",borderRadius:"50%"}}},value:{position:"relative",borderRadius:"50%",display:"grid",placeItems:"center",animation:"10s rotate linear"},size:{small:{value:{width:"40px",height:"40px",fontSize:"12px"}},medium:{value:{width:"140px",height:"140px",fontSize:"14px"}},large:{value:{width:"200px",height:"200px",fontSize:"16px"}},huge:{value:{width:"250px",height:"250px",fontSize:"18px"}}},color:{brand:{value:{background:"var(--semanticColor-background-brand-strong-rest)"}},neutral:{value:{background:"var(--semanticColor-background-neutral-strong-rest)"}},success:{value:{background:"var(--semanticColor-background-success-strong-rest)"}},danger:{value:{background:"var(--semanticColor-background-danger-strong-rest)"}},primary:{value:{background:"var(--semanticColor-background-brand-strong-rest)"}},secondary:{value:{background:"var(--semanticColor-background-brand-strong-rest)"}}}},percent:{container:{value:{position:"relative"},brand:{value:{background:"var(--semanticColor-background-brand-strong-rest)"}},neutral:{value:{background:"var(--semanticColor-background-neutral-strong-rest)"}},success:{value:{background:"var(--semanticColor-background-success-strong-rest)"}},danger:{value:{background:"var(--semanticColor-background-danger-strong-rest)"}}}}}};class ProgressComponent{themingService;type="divider";barStyle="simple";value=0;variant;color=atlas_cdk__WEBPACK_IMPORTED_MODULE_1__.Jy.brand;labeled=!1;constructor(themingService){this.themingService=themingService,this.themingService.applyConfig(config)}calculateBackground(color,progressValue){return`conic-gradient(\n            ${config["circular-bar"].progress.color[`${color}`]?.value?.background} ${3.6*progressValue}deg,\n            #ffffff ${3.6*progressValue}deg\n          )`}static ɵfac=function ProgressComponent_Factory(__ngFactoryType__){return new(__ngFactoryType__||ProgressComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](atlas_cdk__WEBPACK_IMPORTED_MODULE_1__.KS))};static ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({type:ProgressComponent,selectors:[["atlas-progress"]],inputs:{type:"type",barStyle:"barStyle",value:"value",variant:"variant",color:"color",labeled:"labeled"},decls:2,vars:2,consts:[[3,"class",4,"ngIf"],[4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass","ngStyle"]],template:function ProgressComponent_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0,ProgressComponent_div_0_Template,5,8,"div",0)(1,ProgressComponent_div_1_Template,4,8,"div",1),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf","divider"===ctx.type),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf","circular"===ctx.type))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.NgClass,_angular_common__WEBPACK_IMPORTED_MODULE_2__.NgIf,_angular_common__WEBPACK_IMPORTED_MODULE_2__.NgStyle],styles:[".progress-bar-inner.indeterminate-animation-brand{width:100%;height:100%;background-color:var(--semanticColor-background-brand-strong-rest);animation:indeterminate-animation 1s infinite linear;transform-origin:0% 50%}.progress-bar-inner.indeterminate-animation-danger{width:100%;height:100%;background-color:var(--semanticColor-background-danger-strong-rest);animation:indeterminate-animation 1s infinite linear;transform-origin:0% 50%}.progress-bar-inner.indeterminate-animation-success{width:100%;height:100%;background-color:var(--semanticColor-background-success-strong-rest);animation:indeterminate-animation 1s infinite linear;transform-origin:0% 50%}.progress-bar-inner.indeterminate-animation-neutral{width:100%;height:100%;background-color:var(--semanticColor-background-neutral-strong-rest);animation:indeterminate-animation 1s infinite linear;transform-origin:0% 50%}.progress-bar.indeterminate{height:4px;background-color:var(--semanticColor-background-neutral-rest);width:100%;overflow:hidden}@keyframes indeterminate-animation{0%{transform:translate(0) scaleX(0)}40%{transform:translate(0) scaleX(.4)}to{transform:translate(100%) scaleX(.5)}}.circular-bar-progress.indeterminate{position:relative;width:50px;height:50px}.spinner-animation-brand{box-sizing:border-box;width:100%;height:100%;border:5px solid transparent;border-top-color:var(--semanticColor-background-brand-strong-rest);border-radius:50%;animation:spinner 2s linear infinite}.spinner-animation-danger{box-sizing:border-box;width:100%;height:100%;border:5px solid transparent;border-top-color:var(--semanticColor-background-danger-strong-rest);border-radius:50%;animation:spinner 2s linear infinite}.spinner-animation-success{box-sizing:border-box;width:100%;height:100%;border:5px solid transparent;border-top-color:var(--semanticColor-background-success-strong-rest);border-radius:50%;animation:spinner 2s linear infinite}.spinner-animation-neutral{box-sizing:border-box;width:100%;height:100%;border:5px solid transparent;border-top-color:var(--semanticColor-background-neutral-strong-rest);border-radius:50%;animation:spinner 2s linear infinite}@keyframes spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n"],encapsulation:2,changeDetection:0})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ProgressComponent,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,args:[{selector:"atlas-progress",encapsulation:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewEncapsulation.None,changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,template:"<div *ngIf=\"type === 'divider'\" [class]=\"'progress-bar-container'\">\n  <div [ngClass]=\"['progress-bar', barStyle === 'indeterminate' ? 'indeterminate' : '']\">\n    <div\n      *ngIf=\"barStyle !== 'indeterminate'\"\n      [ngClass]=\"['progress-bar-inner', 'progress-bar-inner-' + (variant ? variant : color)]\"\n      [ngStyle]=\"{\n        width: value + '%',\n        margin: barStyle != 'simple' ? '0 auto' : ''\n      }\"\n    ></div>\n    <div\n      *ngIf=\"barStyle === 'indeterminate'\"\n      [ngClass]=\"['progress-bar-inner', 'progress-bar-inner-' + (variant ? variant : color), 'indeterminate-animation-' + (variant ? variant : color)]\"\n    ></div>\n  </div>\n\n  <label *ngIf=\"labeled\" [ngClass]=\"'progress-bar-container-label margin-y-4 typographyStyles-body-large'\">\n    {{ value }}%\n  </label>\n</div>\n\n<div *ngIf=\"type === 'circular'\">\n  <div\n    [ngClass]=\"[\n      'circular-bar-progress',\n      'circular-bar-progress-size-small',\n      barStyle === 'indeterminate' ? 'indeterminate' : ''\n    ]\"\n    [ngStyle]=\"{\n      background: calculateBackground((variant ? variant : color), value)\n    }\"\n  >\n    <div\n      *ngIf=\"barStyle != 'indeterminate' && labeled\"\n      [ngClass]=\"['circular-bar-percent-container', 'typographyStyles-label-large']\"\n    >\n      {{ value }}%\n    </div>\n\n    <div *ngIf=\"barStyle === 'indeterminate'\" [ngClass]=\"['spinner-animation-' + (variant ? variant : color)]\"></div>\n  </div>\n</div>\n",styles:[".progress-bar-inner.indeterminate-animation-brand{width:100%;height:100%;background-color:var(--semanticColor-background-brand-strong-rest);animation:indeterminate-animation 1s infinite linear;transform-origin:0% 50%}.progress-bar-inner.indeterminate-animation-danger{width:100%;height:100%;background-color:var(--semanticColor-background-danger-strong-rest);animation:indeterminate-animation 1s infinite linear;transform-origin:0% 50%}.progress-bar-inner.indeterminate-animation-success{width:100%;height:100%;background-color:var(--semanticColor-background-success-strong-rest);animation:indeterminate-animation 1s infinite linear;transform-origin:0% 50%}.progress-bar-inner.indeterminate-animation-neutral{width:100%;height:100%;background-color:var(--semanticColor-background-neutral-strong-rest);animation:indeterminate-animation 1s infinite linear;transform-origin:0% 50%}.progress-bar.indeterminate{height:4px;background-color:var(--semanticColor-background-neutral-rest);width:100%;overflow:hidden}@keyframes indeterminate-animation{0%{transform:translate(0) scaleX(0)}40%{transform:translate(0) scaleX(.4)}to{transform:translate(100%) scaleX(.5)}}.circular-bar-progress.indeterminate{position:relative;width:50px;height:50px}.spinner-animation-brand{box-sizing:border-box;width:100%;height:100%;border:5px solid transparent;border-top-color:var(--semanticColor-background-brand-strong-rest);border-radius:50%;animation:spinner 2s linear infinite}.spinner-animation-danger{box-sizing:border-box;width:100%;height:100%;border:5px solid transparent;border-top-color:var(--semanticColor-background-danger-strong-rest);border-radius:50%;animation:spinner 2s linear infinite}.spinner-animation-success{box-sizing:border-box;width:100%;height:100%;border:5px solid transparent;border-top-color:var(--semanticColor-background-success-strong-rest);border-radius:50%;animation:spinner 2s linear infinite}.spinner-animation-neutral{box-sizing:border-box;width:100%;height:100%;border:5px solid transparent;border-top-color:var(--semanticColor-background-neutral-strong-rest);border-radius:50%;animation:spinner 2s linear infinite}@keyframes spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n"]}]}],()=>[{type:atlas_cdk__WEBPACK_IMPORTED_MODULE_1__.KS}],{type:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],barStyle:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],value:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],variant:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],color:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],labeled:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}]});class ProgressModule{static ɵfac=function ProgressModule_Factory(__ngFactoryType__){return new(__ngFactoryType__||ProgressModule)};static ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({type:ProgressModule,declarations:[ProgressComponent],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.CommonModule,atlas_cdk__WEBPACK_IMPORTED_MODULE_1__.V5],exports:[ProgressComponent]});static ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({imports:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.CommonModule,atlas_cdk__WEBPACK_IMPORTED_MODULE_1__.V5]})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ProgressModule,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,args:[{imports:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.CommonModule,atlas_cdk__WEBPACK_IMPORTED_MODULE_1__.V5],declarations:[ProgressComponent],exports:[ProgressComponent]}]}],null,null)}}]);